
' Styles
hide empty members
hide empty methods
' End Styles

' Functions definition

    !function colorate($name, $color = "green")
        !return "<color:" + $color + ">" + $name + "</color>"
    !endfunction

    !function join($list, $color = "")
        !$arguments = ""

        !foreach $argument in $list
            !if (%strlen($arguments) > 0)
                !$arguments = $arguments + ", "
            !endif
            !$arguments = $arguments + colorate($argument, $color)
        !endfor

        !return $arguments

    !endfunction

    !function colorateType($type)
        !$stringLength = %strlen($type)
        !$positionChev = %strpos($type, "<")
        !$positionChevFermante = %strpos($type, ">")

        !if ($positionChev >= 0 && $positionChevFermante - 1 != $positionChev) 
            !$stringArguments = %substr($type, $positionChev + 1, $positionChevFermante - $positionChev - 1)

            !$type = colorate(%substr($type, 0, $positionChev))

            !$type = $type + "<"

            !$arguments = join(%splitstr($stringArguments, ", "), blue)

            !$type = $type + $arguments + ">"
        !else
            !$type = colorate($type)
        !endif

        !return $type

    !endfunction

    !function member($type, $name)
        !$stringLength = %strlen($name)
        !$positionPar = %strpos($name, "(")
        !$positionParFermante = %strpos($name, ")")

        !if ($positionPar >= 0 && $positionParFermante - 1 != $positionPar) 
            !$stringArguments = %substr($name, $positionPar + 1, $positionParFermante - $positionPar - 1)

            !$name = %substr($name, 0, $positionPar + 1)

            !$arguments = join(%splitstr($stringArguments, ", "), "OrangeRed")

            !$name = $name + $arguments + ")"
        !endif

        !return $name + " : " + colorateType($type)
    !endfunction

    !function list($type, $name)
        !return member("List<" + $type + ">", $name)
    !endfunction

    !function int($name)
        !return member(int, $name)
    !endfunction

    !function string($name)
        !return member(String, $name)
    !endfunction

    !function void($name)
        !return member(void, $name)
    !endfunction

    !function date($nom)
        !return member(Date, $nom)
    !endfunction

    !function float($nom)
        !return member(float, $nom)
    !endfunction

    !function point($n1, $n2, $sign)
        !return $n1 + $sign + $n2
        
    !endfunction

    !function extends($child, $parent, $dir = false)
    
        !if ($dir == false)
            !$response = point($child, $parent, "--|>")
        !else
            !$response = point($child, $parent, "-" + $dir + "-|>")
        !endif

        !return $response
    !endfunction
